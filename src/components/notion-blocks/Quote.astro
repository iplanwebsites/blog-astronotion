---
import * as interfaces from "../../lib/interfaces.ts";
import { getNotionColorToTailwindColor } from "../../lib/style-helpers.ts";
import RichText from "./RichText.astro";
import NotionBlocks from "../NotionBlocks.astro";

export interface Props {
  block: interfaces.Block;
  headings: interfaces.Block[];
  renderChildren?: boolean; // Make this optional
  setId?:boolean;
}

const { block, headings, renderChildren = true, setId=true } = Astro.props;
---

<blockquote
	class={`nquote !px-2 my-4 border-s-4 border-gray-300 dark:border-gray-500 ${getNotionColorToTailwindColor(
		block.Quote.Color,
	)}`} id={setId?block.Id:undefined}
>
	{block.Quote.RichTexts.map((richText: interfaces.RichText) => <RichText richText={richText}  blockID={block.Id}/>)}
	{block.Quote.Children && renderChildren && <NotionBlocks blocks={block.Quote.Children} headings={headings} renderChildren={renderChildren} setId={setId}/>}
</blockquote>
